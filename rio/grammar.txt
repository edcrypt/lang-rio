IGNORE: " ";
ARGSSEP: ",";
NUMBER: "-?0|[1-9][0-9]*";
IDENTIFIER: "[a-zA-Z_][0-9a-zA-Z_]*";
TERM: "[\n;]";

main: block [EOF];

block: expr [TERM] >block< | expr;
expr: message >expr< | message;
message: symbol arguments?;
arguments: ["("] (expr <argtail>*)? [")"];
argtail: [ARGSSEP] expr;
symbol: <IDENTIFIER> | <NUMBER>;
